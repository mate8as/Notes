@inject DarkModeSwitchStateContainer DarkModeSwitchStateContainer

<MudToggleIconButton Class="me-6" Icon="@Icons.Material.Filled.LightMode" Toggled="@_isDarkModeVal"  ToggledChanged="OnToggleChanged" ToggledIcon="@Icons.Material.Filled.DarkMode" Size="Size.Large"/>


@code {

    [Parameter]
    public EventCallback<bool> _isDarkModeValChanged { get; set; }

    [Parameter]
    public bool _isDarkModeVal { get; set; }


    private async Task OnToggleChanged(bool toggled)
    {
        _isDarkModeVal = toggled;
        await DarkModeSwitchStateContainer.SetDarkMode(toggled);


        await _isDarkModeValChanged.InvokeAsync(_isDarkModeVal);
    }
}
